(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),s=a.n(o),l=a(32),c=a(37),i=a(16),d=a(3),p=a(4),u=a(6),m=a(5),h=a(7),b=a(15),k=(a(61),function(){return r.a.createElement("nav",{className:"topMenu"},r.a.createElement("div",{className:"topMenu__topLeftMenu topLeftMenu"},r.a.createElement("a",{href:"/",className:"topLeftMenu__btn"},"H"),r.a.createElement("div",{className:"topLeftMenu__btn topLeftMenu__btn--boardsLink"},"\ue90a"),r.a.createElement("div",{className:"topLeftMenu__btn"},r.a.createElement("input",{type:"search",className:"topLeftMenu__btn--searchInput"}),"Q")),r.a.createElement("div",{className:"topMenu__logo"},"Trial Trello"),r.a.createElement("div",{className:"topMenu__topRightMenu topRightMenu"},r.a.createElement("div",{className:"topRightMenu__btn"},"+"),r.a.createElement("div",{className:"topRightMenu__btn"},"i"),r.a.createElement("div",{className:"topRightMenu__btn"},"R")))}),f=a(11),E=function(e){var t=e.project,a=e.index,n=e.history;return r.a.createElement(f.b,{draggableId:"".concat(t.id),index:a},function(e){return r.a.createElement("div",Object.assign({className:"project",onClick:function(){return n.push("/project-".concat(t.id))}},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement("h4",{className:"project__title"},t.title))})},j=(a(101),function(e){var t=e.projects,a=e.projectsOrder,n=e.changeProjectPosition,o=e.history,s=e.handleModalOpen;return r.a.createElement(f.a,{onDragEnd:function(e){var t=e.source,a=e.destination;a&&t.index!==a.index&&n(t.index,a.index)}},r.a.createElement(f.c,{droppableId:"projects-area",direction:"horizontal"},function(e){return r.a.createElement("div",Object.assign({className:"projectsWindow"},e.droppableProps,{ref:e.innerRef}),a.map(function(e,a){return r.a.createElement(E,{key:t[e].id,project:t[e],index:a,history:o})}),e.placeholder,r.a.createElement("div",{className:"project project--new",onClick:function(){return s("project")}},r.a.createElement("h4",{className:"project__title"},"Create new project")))}))}),O=function(e){var t=e.task,a=e.index,n=e.setTaskEditId,o=e.handleModalOpen;return r.a.createElement(f.b,{draggableId:"".concat(t.id),index:a},function(e,a){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,onClick:function(){n(t.id),o("taskEdit")},className:"taskWindow__task task"}),a.isDragging&&console.log(a.isDragging),r.a.createElement("h4",{className:"task__title"},t.title),r.a.createElement("p",{className:"task__description"},t.description))})},g=(a(102),function(e){var t=e.projectTitle,a=e.boards,n=e.boardsOrder,o=e.tasks,s=e.handleModalOpen,l=e.setTaskCreateBoardId,c=e.changeTaskPosition,i=e.setTaskEditId;return r.a.createElement(f.a,{onDragEnd:function(e){var t=e.source,a=e.destination;!a||t.index===a.index&&t.droppableId===a.droppableId||c(t.index,a.index,t.droppableId,a.droppableId)}},r.a.createElement("div",{className:"boardsWindow"},r.a.createElement("h2",{className:"boardsWindow__header"},"Project:  ".concat(t)),r.a.createElement("div",{className:"boardsWindow__boards"},n.map(function(e){return r.a.createElement(f.c,{key:a[e].id,droppableId:"".concat(a[e].id)},function(t){return r.a.createElement("div",Object.assign({key:a[e].id,className:"board"},t.droppableProps,{ref:t.innerRef}),r.a.createElement("h3",{className:"board__title"},a[e].title),r.a.createElement("div",{className:"board__taskWindow taskWindow"},a[e].tasksOrder.map(function(e,t){return r.a.createElement(O,{key:o["".concat(e)].id,task:o["".concat(e)],index:t,setTaskEditId:i,handleModalOpen:s})}),t.placeholder),r.a.createElement("p",{className:"board__newtask",onClick:function(){l(a[e].id),s("task")}},"+ add new task"))})}),r.a.createElement("div",{className:"board board--new",onClick:function(){return s("board")}},r.a.createElement("h4",{className:"board__title"},"Create new board")))))}),C=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).portalElement=document.createElement("div"),a.componentDidMount=function(){document.body.appendChild(a.portalElement)},a.componentWillUnmount=function(){document.body.removeChild(a.portalElement)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.children;return s.a.createPortal(e,this.portalElement)}}]),t}(r.a.Component),v=(a(103),function(e){return r.a.createElement(r.a.Fragment,null,e.isOpen&&r.a.createElement(C,null,r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"modalWindow"},r.a.createElement("div",{className:"modalWindow__header"},r.a.createElement("h3",{className:"header__title"},e.title),r.a.createElement("button",{type:"button",className:"header__closeBtn",onClick:function(){return e.handleClose()}},"X")),r.a.createElement("div",{className:"modalWindow__body"},e.children),r.a.createElement("div",{className:"modalWindow__footer"},r.a.createElement("button",{type:"button",className:"footer__closeBtn",onClick:function(){return e.handleClose()}},"Close"),r.a.createElement("button",{type:"button",className:"footer__submitBtn",onClick:function(){return e.handleSubmit()}},"Submit"))))))}),I=(a(27),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(){a.state.projectTitle.length>0&&(a.props.addNewProject(a.state.projectTitle),a.props.handleModalClose("project"),a.setState({projectTitle:""}))},a.handleProjectTitleChange=function(e){var t=e.target.value;t=t.length>255?a.state.projectTitle:t,a.setState({projectTitle:t})},a.state={projectTitle:""},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(v,{isOpen:this.props.modalIsOpen,title:"New Procect Creation",handleClose:function(){return e.props.handleModalClose("project")},handleSubmit:function(){return e.handleSubmit()}},r.a.createElement("input",{className:"projectTitleInput",type:"text",name:"title",value:this.state.projectTitle,onChange:function(t){return e.handleProjectTitleChange(t)},required:!0}),r.a.createElement("p",{className:"projectTitleLength"},255-this.state.projectTitle.length," symbols left"))}}]),t}(r.a.Component)),N=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(){var e=a.props,t=e.addNewBoard,n=e.projectId,r=e.handleModalClose,o=a.state.boardTitle;o.length>0&&(t(n,o),r("board"),a.setState({boardTitle:""}))},a.handleBoardTitleChange=function(e){var t=e.target.value;t=t.length>255?a.state.boardTitle:t,a.setState({boardTitle:t})},a.state={boardTitle:""},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.modalIsOpen,n=t.handleModalClose,o=this.state.boardTitle;return r.a.createElement(v,{isOpen:a,title:"New Board Creation",handleClose:function(){return n("board")},handleSubmit:function(){return e.handleSubmit()}},r.a.createElement("input",{className:"boardTitleInput",type:"text",name:"title",value:o,onChange:function(t){return e.handleBoardTitleChange(t)},required:!0}),r.a.createElement("p",{className:"boardTitleLength"},255-o.length," symbols left"))}}]),t}(r.a.Component),T=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(){var e=a.props,t=e.addNewTask,n=e.handleModalClose,r=a.state,o=r.taskTitle,s=r.taskDescription;o.length>0&&(t(o,s),n("task"),a.setState({taskTitle:"",taskDescription:""}))},a.handleTaskTitleChange=function(e){var t=e.target.value;t=t.length>255?a.state.taskTitle:t,a.setState({taskTitle:t})},a.handleTaskDescriptionChange=function(e){var t=e.target.value;t=t.length>255?a.state.taskDescription:t,a.setState({taskDescription:t})},a.state={taskTitle:"",taskDescription:""},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.modalIsOpen,n=t.handleModalClose,o=this.state,s=o.taskTitle,l=o.taskDescription;return r.a.createElement(v,{isOpen:a,title:"New Task Creation",handleClose:function(){return n("task")},handleSubmit:function(){return e.handleSubmit()}},r.a.createElement("input",{className:"taskTitleInput",type:"text",name:"title",value:s,onChange:function(t){return e.handleTaskTitleChange(t)},placeholder:"Enter task title"}),r.a.createElement("p",{className:"taskTitleLength"},255-s.length," symbols left"),r.a.createElement("input",{className:"taskDescriptionInput",type:"text",name:"description",value:l,onChange:function(t){return e.handleTaskDescriptionChange(t)},placeholder:"Enter task description",required:!0}),r.a.createElement("p",{className:"taskDescriptionLength"},255-l.length," symbols left"))}}]),t}(r.a.Component),_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(){var e=a.props,t=e.editTask,n=e.handleModalClose,r=a.state,o=r.id,s=r.title,l=r.description,c=r.complete;s.length>0&&(t(o,s,l,c),n("taskEdit"),a.setState({id:null,title:"",description:"",complete:!1}))},a.handleTitleChange=function(e){var t=e.target.value;t=t.length>255?a.state.title:t,a.setState({title:t})},a.handleDescriptionChange=function(e){var t=e.target.value;t=t.length>255?a.state.description:t,a.setState({description:t})},a.handleCompleteChange=function(){a.setState(function(e){return{complete:!e.complete}})},a.state={id:null,title:"",description:"",complete:!1},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props!==e&&e.modalIsOpen&&this.setState({id:e.task.id,title:e.task.title,description:e.task.description,complete:e.task.complete})}},{key:"render",value:function(){var e=this,t=this.props,a=t.modalIsOpen,n=t.handleModalClose,o=this.state,s=o.title,l=o.description,c=o.complete;return r.a.createElement(v,{isOpen:a,title:"Edit Task",handleClose:function(){return n("taskEdit")},handleSubmit:function(){return e.handleSubmit()}},r.a.createElement("input",{className:"taskTitleInput",type:"text",name:"title",value:s,onChange:function(t){return e.handleTitleChange(t)},placeholder:"Enter task title"}),r.a.createElement("p",{className:"taskTitleLength"},255-s.length," symbols left"),r.a.createElement("input",{className:"taskDescriptionInput",type:"text",name:"description",value:l,onChange:function(t){return e.handleDescriptionChange(t)},placeholder:"Enter task description",required:!0}),r.a.createElement("p",{className:"taskDescriptionLength"},255-l.length," symbols left"),r.a.createElement("label",null,"Complete:",r.a.createElement("input",{type:"checkbox",name:"taskComplete",checked:c,onChange:function(){return e.handleCompleteChange()}})))}}]),t}(r.a.Component),S=function(e){var t=0;for(var a in e)t=e[a].id>t?e[a].id:t;return t+1},M=(a(104),a(105),function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).componentDidUpdate=function(){e.saveState()},e.saveState=function(){var t=JSON.stringify({projects:Object(i.a)({},e.state.projects),boards:Object(i.a)({},e.state.boards),tasks:Object(i.a)({},e.state.tasks),projectsOrder:Object(c.a)(e.state.projectsOrder)});localStorage.setItem("trello-clone",t)},e.setTaskCreateBoardId=function(t){e.setState({taskCreateBoardId:t})},e.setTaskEditId=function(t){e.setState({taskEditId:t})},e.handleModalOpen=function(t){switch(t){case"project":e.setState({projectCreateFormIsOpen:!0});break;case"board":e.setState({boardCreateFormIsOpen:!0});break;case"task":e.setState({taskCreateFormIsOpen:!0});break;case"taskEdit":e.setState({taskEditFormIsOpen:!0});break;default:console.warn("Incorrect form type in handleModalOpen")}},e.handleModalClose=function(t){switch(t){case"project":e.setState({projectCreateFormIsOpen:!1});break;case"board":e.setState({boardCreateFormIsOpen:!1});break;case"task":e.setState({taskCreateFormIsOpen:!1});break;case"taskEdit":e.setState({taskEditFormIsOpen:!1});break;default:console.warn("Incorrect form type in handleModalClose")}},e.addNewProject=function(t){var a=e.state,n=a.projects,r=a.projectsOrder,o=S(n);n["".concat(o)]={id:o,title:t,boardsOrder:[]},r.unshift("".concat(o)),e.setState({projects:n,projectsOrder:r})},e.changeProjectPosition=function(t,a){var n=e.state.projectsOrder,r=n.splice(t,1);n.splice(a,0,r),e.setState({projectsOrder:n})},e.addNewBoard=function(t,a){var n=e.state,r=n.projects,o=n.boards,s=S(o);r["".concat(t)].boardsOrder.push("".concat(s)),o["".concat(s)]={id:s,title:a,tasksOrder:[]},e.setState({boards:o,projects:r})},e.addNewTask=function(t,a){var n=e.state.taskCreateBoardId,r=e.state,o=r.boards,s=r.tasks,l=S(s);o[n].tasksOrder.push("".concat(l)),s["".concat(l)]={id:l,title:t,description:a,complete:!1},e.setState({boards:o,tasks:s})},e.editTask=function(t,a,n,r){var o=e.state.tasks;o["".concat(t)].title=a,o["".concat(t)].description=n,o["".concat(t)].complete=r,e.setState({tasks:o})},e.changeTaskPosition=function(t,a,n,r){var o=e.state.boards;o[r].tasksOrder.splice(a,0,o[n].tasksOrder.splice(t,1)),e.saveState()},e.state=localStorage.getItem("trello-clone")?{projects:Object(i.a)({},JSON.parse(localStorage.getItem("trello-clone")).projects),boards:Object(i.a)({},JSON.parse(localStorage.getItem("trello-clone")).boards),tasks:Object(i.a)({},JSON.parse(localStorage.getItem("trello-clone")).tasks),projectsOrder:Object(c.a)(JSON.parse(localStorage.getItem("trello-clone")).projectsOrder),projectCreateFormIsOpen:!1,boardCreateFormIsOpen:!1,taskCreateFormIsOpen:!1,taskEditFormIsOpen:!1,taskCreateBoardId:null,taskEditId:null}:{projects:{},boards:{},tasks:{},projectsOrder:[],projectCreateFormIsOpen:!1,boardCreateFormIsOpen:!1,taskCreateFormIsOpen:!1,taskEditFormIsOpen:!1,taskCreateBoardId:null,taskEditId:null},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.projects,n=t.projectsOrder,o=t.boards,s=t.tasks;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(k,null)),r.a.createElement("main",null,r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/",exact:!0,render:function(t){var o=t.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{projects:a,projectsOrder:n,history:o,handleModalOpen:e.handleModalOpen,changeProjectPosition:e.changeProjectPosition}),r.a.createElement(I,{addNewProject:e.addNewProject,modalIsOpen:e.state.projectCreateFormIsOpen,handleModalClose:e.handleModalClose}))}}),r.a.createElement(b.a,{path:"/project-:projectId",render:function(t){var n=t.match.params.projectId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{projectTitle:a[n].title,boards:o,boardsOrder:a[n].boardsOrder,tasks:s,handleModalOpen:e.handleModalOpen,setTaskCreateBoardId:e.setTaskCreateBoardId,changeTaskPosition:e.changeTaskPosition,setTaskEditId:e.setTaskEditId}),r.a.createElement(N,{projectId:n,addNewBoard:e.addNewBoard,modalIsOpen:e.state.boardCreateFormIsOpen,handleModalClose:e.handleModalClose}),r.a.createElement(T,{addNewTask:e.addNewTask,modalIsOpen:e.state.taskCreateFormIsOpen,handleModalClose:e.handleModalClose}),r.a.createElement(_,{task:s[e.state.taskEditId],editTask:e.editTask,handleModalClose:e.handleModalClose,modalIsOpen:e.state.taskEditFormIsOpen}))}}))),r.a.createElement("footer",null))}}]),t}(r.a.Component));s.a.render(r.a.createElement(l.a,null,r.a.createElement(M,null)),document.getElementById("root"))},27:function(e,t,a){},56:function(e,t,a){e.exports=a(107)},61:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.b293afe5.chunk.js.map